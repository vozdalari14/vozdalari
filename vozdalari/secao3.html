<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <title>VOZ DA LARI - Letras de Músicas</title>
  <link rel="stylesheet" href="main.css">
  <style>
    /* Estilos específicos para esta página */
    .discussao-container {
      max-width: 800px;
      margin: 2rem auto;
    }
    
    .adicionar-trecho {
      background-color: #f8f9fa;
      padding: 1.5rem;
      border-radius: 8px;
      margin-bottom: 2rem;
    }
    
    .form-group {
      margin-bottom: 1rem;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: bold;
    }
    
    .form-group input, 
    .form-group textarea, 
    .form-group select {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-family: inherit;
    }
    
    .form-group textarea {
      min-height: 120px;
      resize: vertical;
    }
    
    .btn-enviar {
      background-color: #6a11cb;
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 4px;
      cursor: pointer;
      font-size: 1rem;
      transition: background-color 0.3s;
    }
    
    .btn-enviar:hover {
      background-color: #2575fc;
    }
    
    .trechos-musicais {
      margin-top: 2rem;
    }
    
    .trecho-card {
      background-color: white;
      border-radius: 8px;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s;
    }
    
    .trecho-card:hover {
      transform: translateY(-5px);
    }
    
    .trecho-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 1rem;
    }
    
    .trecho-meta {
      color: #666;
      font-size: 0.9rem;
    }
    
    .trecho-titulo {
      font-size: 1.5rem;
      margin: 0 0 0.5rem 0;
      color: #333;
    }
    
    .trecho-artista {
      font-style: italic;
      margin-bottom: 0.5rem;
      color: #6a11cb;
    }
    
    .trecho-letra {
      background-color: #f8f9fa;
      padding: 1rem;
      border-left: 4px solid #2575fc;
      margin-bottom: 1rem;
      font-style: italic;
      white-space: pre-line;
    }
    
    .trecho-interpretacao {
      margin-bottom: 1rem;
      line-height: 1.6;
    }
    
    .trecho-autor {
      font-weight: bold;
      color: #6a11cb;
    }
    
    .btn-discutir {
      background-color: transparent;
      color: #2575fc;
      border: 1px solid #2575fc;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .btn-discutir:hover {
      background-color: #2575fc;
      color: white;
    }
    
    .discussao {
      margin-top: 1rem;
      padding-top: 1rem;
      border-top: 1px solid #eee;
      display: none;
    }
    
    .discussao.ativa {
      display: block;
    }
    
    .comentarios-lista {
      margin-bottom: 1.5rem;
    }
    
    .comentario {
      padding: 1rem;
      background-color: #f8f9fa;
      border-radius: 8px;
      margin-bottom: 1rem;
    }
    
    .comentario-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 0.5rem;
    }
    
    .comentario-autor {
      font-weight: bold;
      color: #6a11cb;
    }
    
    .comentario-data {
      color: #888;
      font-size: 0.8rem;
    }
    
    .comentario-texto {
      line-height: 1.5;
    }
    
    .form-comentario {
      margin-top: 1rem;
    }
    
    .sem-trechos {
      text-align: center;
      padding: 2rem;
      color: #666;
      font-style: italic;
    }
  </style>
</head>
<body class="light-theme">
<div class="container">
  <header>
    <h1>VOZ DA LARI</h1>
    <nav>
      <a href="index.html">Início</a>
      <a href="secao2.html">Livros Favoritos</a>
      <a href="secao3.html">Letras de Músicas</a>
      <a href="secao4.html">Notícias</a>
      <a href="secao5.html">Bate-papo</a>
      <a href="secao6.html">Fanfics</a>
    </nav>
  </header>

  <main>
    <h1>A alma da melodia</h1>
    <p>Cada letra de uma música fala mais do que o som. Nesse espaço iremos analisar o significado de canções que nos marcaram.</p>

    <div class="discussao-container">
      <!-- Formulário para adicionar novo trecho -->
      <div class="adicionar-trecho">
        <h2>Compartilhe um trecho musical</h2>
        <form id="form-trecho">
          <div class="form-group">
            <label for="musica">Nome da música:</label>
            <input type="text" id="musica" required>
          </div>
          <div class="form-group">
            <label for="artista">Artista/Banda:</label>
            <input type="text" id="artista" required>
          </div>
          <div class="form-group">
            <label for="trecho">Trecho da letra:</label>
            <textarea id="trecho" required></textarea>
          </div>
          <div class="form-group">
            <label for="interpretacao">O que este trecho significa para você?</label>
            <textarea id="interpretacao" required></textarea>
          </div>
          <div class="form-group">
            <label for="autor">Seu nome:</label>
            <input type="text" id="autor" required>
          </div>
          <button type="submit" class="btn-enviar">Publicar análise</button>
        </form>
      </div>

      <!-- Lista de trechos musicais -->
      <div class="trechos-musicais" id="trechos-musicais">
        <div class="sem-trechos" id="sem-trechos">
          <p>Nenhum trecho musical foi compartilhado ainda. Seja o primeiro!</p>
        </div>
      </div>
    </div>
  </main>

  <footer>
    <p>Larissa Barista - Escritora</p>
    <p>Todos os direitos reservados - 2025</p>
    <nav>
      <a href="https://instagram.com"><button>Instagram</button></a>
      <a href="https://wa.me/seunumerodetelefone"><button>WhatsApp</button></a>
    </nav>
  </footer>
</div>

<script>
// Dados iniciais (em uma aplicação real, viriam de um banco de dados)
let trechosMusicais = [
  {
    id: 1,
    musica: "Boate Azul",
    artista: "Bruno e Marrone",
    trecho: "Estou sozinho, me sinto um fraco\nNa solidão desta boate azul\nO garçom já me conhece\nJá sabe o que eu vou pedir",
    interpretacao: "Para mim, essa música fala sobre a solidão que sentimos mesmo em ambientes cheios de pessoas. O protagonista busca refúgio no álcool para amenizar sua dor, mas no fundo só aumenta seu vazio existencial.",
    autor: "Larissa Barista",
    data: "10/03/2025",
    comentarios: [
      {
        autor: "Carlos Silva",
        texto: "Concordo plenamente! Acho que a 'boate azul' representa um estado mental de melancolia, não apenas um lugar físico.",
        data: "11/03/2025"
      },
      {
        autor: "Ana Costa",
        texto: "Sempre interpretei o 'garçom' como uma metáfora para os vícios que nos são familiares e nos acompanham nos momentos difíceis.",
        data: "12/03/2025"
      }
    ]
  },
  {
    id: 2,
    musica: "Construção",
    artista: "Chico Buarque",
    trecho: "Amou daquela vez como se fosse a última\nBeijou sua mulher como se fosse a única\nE cada filho seu como se fosse o pródigo\nE atravessou a rua com seu passo tímido",
    interpretacao: "Chico Buarque retrata a rotina de um trabalhador que vive cada momento com intensidade, como se fosse o último. A repetição da estrutura sintática mostra a ciclicidade da vida operária.",
    autor: "Larissa Barista",
    data: "05/03/2025",
    comentarios: [
      {
        autor: "Pedro Almeida",
        texto: "Essa música é genial! A forma como ele constrói a narrativa levando à tragédia final é uma obra-prima da música brasileira.",
        data: "06/03/2025"
      }
    ]
  }
];

// Elementos do DOM
const formTrecho = document.getElementById('form-trecho');
const trechosContainer = document.getElementById('trechos-musicais');
const semTrechos = document.getElementById('sem-trechos');

// Função para gerar ID único
function gerarId() {
  return Math.floor(Math.random() * 1000000);
}

// Função para formatar a data
function formatarData(data) {
  return new Date(data).toLocaleDateString('pt-BR');
}

// Função para adicionar um novo trecho
function adicionarTrecho(event) {
  event.preventDefault();
  
  const musica = document.getElementById('musica').value;
  const artista = document.getElementById('artista').value;
  const trecho = document.getElementById('trecho').value;
  const interpretacao = document.getElementById('interpretacao').value;
  const autor = document.getElementById('autor').value;
  
  const novoTrecho = {
    id: gerarId(),
    musica: musica,
    artista: artista,
    trecho: trecho,
    interpretacao: interpretacao,
    autor: autor,
    data: formatarData(new Date()),
    comentarios: []
  };
  
  trechosMusicais.unshift(novoTrecho);
  renderizarTrechos();
  
  // Limpar o formulário
  formTrecho.reset();
}

// Função para renderizar todos os trechos
function renderizarTrechos() {
  if (trechosMusicais.length === 0) {
    semTrechos.style.display = 'block';
    trechosContainer.innerHTML = '';
    return;
  }
  
  semTrechos.style.display = 'none';
  
  let html = '';
  
  trechosMusicais.forEach(trecho => {
    html += `
      <div class="trecho-card" data-id="${trecho.id}">
        <div class="trecho-header">
          <div>
            <h3 class="trecho-titulo">${trecho.musica}</h3>
            <p class="trecho-artista">${trecho.artista}</p>
          </div>
          <div class="trecho-meta">
            <span class="trecho-data">${trecho.data}</span>
          </div>
        </div>
        
        <div class="trecho-letra">${trecho.trecho}</div>
        
        <div class="trecho-interpretacao">
          <span class="trecho-autor">${trecho.autor}:</span> ${trecho.interpretacao}
        </div>
        
        <button class="btn-discutir" onclick="toggleDiscussao(${trecho.id})">
          Ver discussão (${trecho.comentarios.length})
        </button>
        
        <div class="discussao" id="discussao-${trecho.id}">
          <div class="comentarios-lista">
            ${trecho.comentarios.length > 0 ? 
              trecho.comentarios.map(comentario => `
                <div class="comentario">
                  <div class="comentario-header">
                    <span class="comentario-autor">${comentario.autor}</span>
                    <span class="comentario-data">${comentario.data}</span>
                  </div>
                  <div class="comentario-texto">${comentario.texto}</div>
                </div>
              `).join('') : 
              '<p>Nenhum comentário ainda. Seja o primeiro a comentar!</p>'
            }
          </div>
          
          <form class="form-comentario" onsubmit="adicionarComentario(event, ${trecho.id})">
            <div class="form-group">
              <label for="comentario-autor-${trecho.id}">Seu nome:</label>
              <input type="text" id="comentario-autor-${trecho.id}" required>
            </div>
            <div class="form-group">
              <label for="comentario-texto-${trecho.id}">Seu comentário:</label>
              <textarea id="comentario-texto-${trecho.id}" required></textarea>
            </div>
            <button type="submit" class="btn-enviar">Comentar</button>
          </form>
        </div>
      </div>
    `;
  });
  
  trechosContainer.innerHTML = html;
}

// Função para mostrar/ocultar a discussão de um trecho
function toggleDiscussao(id) {
  const discussao = document.getElementById(`discussao-${id}`);
  discussao.classList.toggle('ativa');
  
  const btn = document.querySelector(`.trecho-card[data-id="${id}"] .btn-discutir`);
  if (discussao.classList.contains('ativa')) {
    btn.textContent = `Ocultar discussão (${trechosMusicais.find(t => t.id === id).comentarios.length})`;
  } else {
    btn.textContent = `Ver discussão (${trechosMusicais.find(t => t.id === id).comentarios.length})`;
  }
}

// Função para adicionar um comentário
function adicionarComentario(event, trechoId) {
  event.preventDefault();
  
  const trecho = trechosMusicais.find(t => t.id === trechoId);
  const autorInput = document.getElementById(`comentario-autor-${trechoId}`);
  const textoInput = document.getElementById(`comentario-texto-${trechoId}`);
  
  const novoComentario = {
    autor: autorInput.value,
    texto: textoInput.value,
    data: formatarData(new Date())
  };
  
  trecho.comentarios.push(novoComentario);
  renderizarTrechos();
  
  // Manter a discussão aberta após adicionar o comentário
  const discussao = document.getElementById(`discussao-${trechoId}`);
  discussao.classList.add('ativa');
  
  // Atualizar o texto do botão
  const btn = document.querySelector(`.trecho-card[data-id="${trechoId}"] .btn-discutir`);
  btn.textContent = `Ocultar discussão (${trecho.comentarios.length})`;
}

// Event Listeners
formTrecho.addEventListener('submit', adicionarTrecho);

// Inicialização
renderizarTrechos();
</script>
</body>
</html>