<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <title>VOZ DA LARI</title>
  <link rel="stylesheet" href="main.css">
  <style>
    .noticias {
      padding: 1rem;
      background-color: #f9f9f9;
      border-radius: 8px;
    }
    .noticia {
      margin-bottom: 1rem;
      padding: 15px;
      background-color: white;
      border-radius: 5px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .noticia a {
      text-decoration: none;
      color: #333;
      font-weight: bold;
    }
    .noticia p {
      margin: 0.3rem 0 0;
      color: #555;
    }
    .noticia .data {
      font-size: 0.8rem;
      color: #888;
    }
    .noticia img {
      max-width: 100%;
      height: auto;
      border-radius: 5px;
      margin-top: 10px;
    }
    .carregando {
      text-align: center;
      padding: 20px;
      font-style: italic;
    }
    .erro-carregamento {
      color: #d32f2f;
      text-align: center;
      padding: 20px;
    }
    .categoria {
      display: inline-block;
      background-color: #e0e0e0;
      padding: 2px 8px;
      border-radius: 12px;
      font-size: 0.7rem;
      margin-right: 8px;
    }
    .esporte {
      background-color: #ffcdd2;
    }
    .cultura {
      background-color: #bbdefb;
    }
  </style>
</head>
<body class="light-theme">
<div class="container">
  <header>
    <h1>VOZ DA LARI</h1>
    <nav>
      <a href="index.html">In√≠cio</a>
      <a href="secao2.html">Livros Favoritos</a>
      <a href="secao3.html">Letras de M√∫sicas</a>
      <a href="secao4.html">Not√≠cias</a>
      <a href="secao5.html">Bate-papo</a>
      <a href="secao6.html">Fanfics</a>
    </nav>
  </header>

  <main>
    <section class="noticias">
      <h2>üì∞ Not√≠cias Atualizadas de Cultura e Esporte</h2>
      <div id="feed-noticias">
        <p class="carregando">Carregando not√≠cias...</p>
      </div>
    </section>
  </main>

  <footer>
    <p>Larissa Barista - Escritora</p>
    <p>Todos os direitos reservados - 2025</p>
    <nav>
      <a href="https://instagram.com"><button>Instagram</button></a>
      <a href="https://wa.me/seunumerodetelefone"><button>WhatsApp</button></a>
    </nav>
  </footer>
</div>

<script>
// Configura√ß√µes da API de not√≠cias
const API_KEY = 'a5cb3382bbf8419ba281fc55f8bda60e'; // Chave de exemplo - substitua por uma chave real
const API_URL = `https://newsapi.org/v2/everything?q=(cultura OR esporte)&language=pt&sortBy=publishedAt&apiKey=${API_KEY}`;

// Fun√ß√£o para formatar a data
function formatarData(dataString) {
  const data = new Date(dataString);
  return data.toLocaleDateString('pt-BR', {
    day: '2-digit',
    month: '2-digit',
    year: 'numeric',
    hour: '2-digit',
    minute: '2-digit'
  });
}

// Fun√ß√£o para determinar a categoria com base no conte√∫do
function determinarCategoria(titulo, descricao) {
  const texto = (titulo + ' ' + descricao).toLowerCase();
  const palavrasEsporte = ['futebol', 'esporte', 'jogo', 'atleta', 'campeonato', 'ol√≠mpic', 'corrida', 'nata√ß√£o'];
  const palavrasCultura = ['cultura', 'arte', 'm√∫sica', 'filme', 'teatro', 'literatura', 'cinema', 'exposi√ß√£o', 'show'];
  
  if (palavrasEsporte.some(palavra => texto.includes(palavra))) {
    return 'esporte';
  }
  if (palavrasCultura.some(palavra => texto.includes(palavra))) {
    return 'cultura';
  }
  return 'geral';
}

// Fun√ß√£o para buscar not√≠cias da API
async function buscarNoticias() {
  const feedNoticias = document.getElementById('feed-noticias');
  
  try {
    // Tentativa 1: Usar API NewsAPI
    const resposta = await fetch(API_URL);
    
    if (!resposta.ok) {
      throw new Error('Erro na API de not√≠cias');
    }
    
    const dados = await resposta.json();
    
    if (dados.articles && dados.articles.length > 0) {
      // Limpar conte√∫do de carregamento
      feedNoticias.innerHTML = '';
      
      // Adicionar as not√≠cias ao feed (m√°ximo de 10)
      dados.articles.slice(0, 10).forEach(noticia => {
        const categoria = determinarCategoria(noticia.title, noticia.description);
        
        const elementoNoticia = document.createElement('div');
        elementoNoticia.className = 'noticia';
        elementoNoticia.innerHTML = `
          <span class="categoria ${categoria}">${categoria.toUpperCase()}</span>
          <a href="${noticia.url}" target="_blank">${noticia.title}</a>
          <p>${noticia.description || 'Sem descri√ß√£o dispon√≠vel.'}</p>
          ${noticia.urlToImage ? `<img src="${noticia.urlToImage}" alt="${noticia.title}">` : ''}
          <p class="data">Publicado em: ${formatarData(noticia.publishedAt)}</p>
        `;
        
        feedNoticias.appendChild(elementoNoticia);
      });
    } else {
      feedNoticias.innerHTML = '<p class="erro-carregamento">Nenhuma not√≠cia encontrada.</p>';
    }
  } catch (erro) {
    console.error('Erro ao carregar not√≠cias:', erro);
    
    // Fallback: Not√≠cias est√°ticas em caso de falha na API
    feedNoticias.innerHTML = `
      <div class="noticia">
        <span class="categoria cultura">CULTURA</span>
        <a href="#">Festival de Cinema anuncia programa√ß√£o com produ√ß√µes nacionais</a>
        <p>O maior festival de cinema do pa√≠s revelou sua programa√ß√£o, com destaque para produ√ß√µes independentes brasileiras.</p>
        <p class="data">Publicado em: 15/03/2025 09:30</p>
      </div>
      <div class="noticia">
        <span class="categoria esporte">ESPORTE</span>
        <a href="#">Time local vence campeonato estadual ap√≥s 10 anos</a>
        <p>Em uma vit√≥ria emocionante, o time da cidade conquistou o t√≠tulo estadual ap√≥s uma d√©cada sem t√≠tulos.</p>
        <p class="data">Publicado em: 14/03/2025 18:45</p>
      </div>
      <div class="noticia">
        <span class="categoria cultura">CULTURA</span>
        <a href="#">Nova exposi√ß√£o de arte digital chega ao museu central</a>
        <p>A mostra interativa promete revolucionar a forma como o p√∫blico experiencia a arte contempor√¢nea.</p>
        <p class="data">Publicado em: 14/03/2025 14:20</p>
      </div>
      <p class="erro-carregamento">N√£o foi poss√≠vel carregar not√≠cias atualizadas. Mostrando not√≠cias locais.</p>
    `;
  }
}

// Executar a busca de not√≠cias quando a p√°gina carregar
document.addEventListener('DOMContentLoaded', buscarNoticias);
</script>
</body>
</html>